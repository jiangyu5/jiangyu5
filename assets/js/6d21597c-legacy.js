System.register(["./6ad5bd67-legacy.js","./57e453a1-legacy.js","./0cb0953a-legacy.js"],(function(e,t){"use strict";var l,a,n,s,o,c,u,i,d,r,m,g,p,v,h,f,y,x,j=document.createElement("style");return j.innerHTML=".loading-after-img[data-v-5d5fcf2c]{width:80px;height:100px;border:1px solid;display:flex;justify-content:center;align-items:center;overflow:hidden;border-radius:8px}.loading-after-img img[data-v-5d5fcf2c]{display:block;width:auto;height:100%}.gallery[data-v-6a584e57]{padding-left:64px}.gallery .content[data-v-6a584e57]{display:grid;grid-template-columns:auto auto auto;justify-content:center;gap:6px}.gallery .bottom-tip[data-v-6a584e57]{height:80px;width:100%;text-align:center}@media screen and (min-width: 600px){.gallery .content[data-v-6a584e57]{grid-template-columns:auto auto auto auto auto auto}}\n",document.head.appendChild(j),{setters:[e=>{l=e.r},e=>{a=e.L},e=>{n=e.d,s=e.p,o=e.D,c=e.o,u=e.c,i=e.m,d=e._,r=e.l,m=e.C,g=e.J,p=e.a,v=e.F,h=e.b,f=e.t,y=e.y,x=e.z}],execute:function(){const t={class:"loading-after-img"},j=["src"],E={key:2,class:"flase"},w=d(n({__name:"LoadingAfterImg",props:{url:null,width:null,height:null},setup(e){const n=s(null),d=s(!0);return o((()=>{l(e.url).then((e=>{null!=e&&(n.value=e),d.value=!1}))})),(e,l)=>(c(),u("div",t,[d.value?(c(),i(a,{key:0,scale:".8"})):null!=n.value?(c(),u("img",{key:1,src:n.value,alt:""},null,8,j)):(c(),u("div",E,"加载失败"))]))}}),[["__scopeId","data-v-5d5fcf2c"]]),_={class:"gallery"},b=(e=>(y("data-v-6a584e57"),e=e(),x(),e))((()=>p("h2",null,"图库",-1))),k={class:"content"};e("default",d(n({__name:"indexGallery",setup(e){const t={count:60,path:"../assets/imgs/gallery/",imgs:["楼角.jpg","山河与你.jpg","钓星星.jpg"],imgsRandom:["楼角.jpg","山河与你.jpg","钓星星.jpg"]};(()=>{let e=t.imgsRandom.length;for(let l=0;l<t.count;l++)t.imgs.push(t.imgsRandom[Math.floor(Math.random()*e)])})();const l=r({success:0,onceGet:6,path:"../assets/imgs/gallery/",imgs:[]}),a=s(null),n=s("上滑加载更多"),d=e=>{if(t.count>l.success&&document.documentElement.scrollHeight-20<document.documentElement.scrollTop+document.documentElement.clientHeight)for(let a=0;a<l.onceGet;a++)l.imgs.push(l.path+t.imgs[l.success]),l.success++},y=()=>{a.value&&d(a.value)};return o((()=>{let e=[];for(let l=0;l<t.count;l++)e.push(setTimeout((()=>{document.documentElement.scrollHeight-20>=document.documentElement.scrollTop+document.documentElement.clientHeight&&e.forEach((e=>clearTimeout(e))),a.value&&d(a.value)}),0));window.addEventListener("scroll",y),m((()=>l.success),(e=>{e>=t.count&&(removeEventListener("scroll",y),n.value="到底啦！")}))})),g((()=>{a.value&&window.removeEventListener("scroll",y)})),(e,t)=>(c(),u("div",_,[b,p("div",k,[(c(!0),u(v,null,h(l.imgs,((e,t)=>(c(),i(w,{url:e,key:t},null,8,["url"])))),128))]),p("div",{class:"bottom-tip",ref_key:"Tip",ref:a},f(n.value),513)]))}}),[["__scopeId","data-v-6a584e57"]]))}}}));
