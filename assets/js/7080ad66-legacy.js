System.register(["./332d6a63-legacy.js","./be4d89ca-legacy.js","./6109a8b7-legacy.js"],(function(e,t){"use strict";var l,a,n,s,c,o,d,r,u,i,m,g,p,h,v,f,y,b,w,x=document.createElement("style");return x.innerHTML=".loading-after-img[data-v-0b97d5f7]{border:1px solid;display:flex;justify-content:center;align-items:center;overflow:hidden;border-radius:8px}.loading-after-img img[data-v-0b97d5f7]{display:block;width:auto;height:100%}.gallery .content[data-v-c5777962]{display:flex;flex-flow:row wrap;justify-content:center;gap:6px;padding-left:64px}.gallery .bottom-tip[data-v-c5777962]{height:80px;width:100%;text-align:center}\n",document.head.appendChild(x),{setters:[e=>{l=e.a},e=>{a=e.L},e=>{n=e.d,s=e.m,c=e.B,o=e.o,d=e.c,r=e.D,u=e.A,i=e._,m=e.l,g=e.C,p=e.H,h=e.a,v=e.F,f=e.b,y=e.t,b=e.x,w=e.y}],execute:function(){const t=["src"],x={key:2,class:"flase"},j=i(n({__name:"LoadingAfterImg",props:{url:null,width:{default:"80px"},height:{default:"100px"}},setup(e){const n=s(null),i=s(!0);return c((()=>{var t;(t=e.url,l({method:"get",url:t,responseType:"arraybuffer"}).then((e=>"data:image/png;base64,"+btoa(new Uint8Array(e.data).reduce(((e,t)=>e+String.fromCharCode(t)),"")))).catch((()=>null))).then((e=>{i.value=!1,n.value=e})).catch((()=>{i.value=!1}))})),(l,s)=>(o(),d("div",{class:"loading-after-img",style:u({width:e.width,height:e.height})},[i.value?(o(),r(a,{key:0,scale:".8"})):null!=n.value?(o(),d("img",{key:1,src:n.value,alt:""},null,8,t)):(o(),d("div",x,"加载失败"))],4))}}),[["__scopeId","data-v-0b97d5f7"]]),E={class:"gallery"},_=(e=>(b("data-v-c5777962"),e=e(),w(),e))((()=>h("h2",null,"图库",-1))),T={class:"content"};e("default",i(n({__name:"indexGallery",setup(e){const t={count:52,path:"./assets/imgs/gallery/",imgs:["楼角.jpg","山河与你.jpg","钓星星.jpg"],imgsRandom:["楼角.jpg","山河与你.jpg","钓星星.jpg"]};(()=>{let e=t.imgsRandom.length;for(let l=0;l<t.count;l++)t.imgs.push(t.imgsRandom[Math.floor(Math.random()*e)])})();const l=m({success:0,path:"./assets/imgs/gallery/",imgs:[]}),a=s(null),n=s("上滑加载更多"),u=e=>{t.count>l.success&&document.documentElement.scrollHeight-100<document.documentElement.scrollTop+document.documentElement.clientHeight&&(l.imgs.push(l.path+t.imgs[l.success]),l.success++)},i=()=>{a.value&&u(a.value)};return c((()=>{let e=[];for(let l=0;l<t.count;l++)e.push(setTimeout((()=>{document.documentElement.scrollHeight-80>=document.documentElement.scrollTop+document.documentElement.clientHeight&&e.forEach((e=>clearTimeout(e))),a.value&&u(a.value)}),0));window.addEventListener("scroll",i),g((()=>l.success),(e=>{e>=t.count&&(removeEventListener("scroll",i),n.value="到底啦！")}))})),p((()=>{a.value&&window.removeEventListener("scroll",i)})),(e,t)=>(o(),d("div",E,[_,h("div",T,[(o(!0),d(v,null,f(l.imgs,((e,t)=>(o(),r(j,{url:e,key:t},null,8,["url"])))),128)),h("div",{class:"bottom-tip",ref_key:"Tip",ref:a},y(n.value),513)])]))}}),[["__scopeId","data-v-c5777962"]]))}}}));
