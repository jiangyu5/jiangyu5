import{r as E}from"./fb3e6ec5.js";import{L as y}from"./7ed15f5d.js";import{d as p,p as a,D as g,o,c,m as v,_ as h,l as F,C as L,J as x,a as m,F as I,b as k,t as C,y as D,z as w}from"./6dd761dc.js";const A={class:"loading-after-img"},T=["src"],j={key:2,class:"flase"},B=p({__name:"LoadingAfterImg",props:{url:null,width:null,height:null},setup(l){const e=a(null),t=a(!0);return g(()=>{E(l.url).then(n=>{n!=null&&(e.value=n),t.value=!1})}),(n,i)=>(o(),c("div",A,[t.value?(o(),v(y,{key:0,scale:".8"})):e.value!=null?(o(),c("img",{key:1,src:e.value,alt:""},null,8,T)):(o(),c("div",j,"\u52A0\u8F7D\u5931\u8D25"))]))}});const G=h(B,[["__scopeId","data-v-5d5fcf2c"]]),H=l=>(D("data-v-6a584e57"),l=l(),w(),l),M={class:"gallery"},S=H(()=>m("h2",null,"\u56FE\u5E93",-1)),$={class:"content"},R=p({__name:"indexGallery",setup(l){const e={count:60,path:"../assets/imgs/gallery/",imgs:["\u697C\u89D2.jpg","\u5C71\u6CB3\u4E0E\u4F60.jpg","\u9493\u661F\u661F.jpg"],imgsRandom:["\u697C\u89D2.jpg","\u5C71\u6CB3\u4E0E\u4F60.jpg","\u9493\u661F\u661F.jpg"]};(()=>{let u=e.imgsRandom.length;for(let s=0;s<e.count;s++)e.imgs.push(e.imgsRandom[Math.floor(Math.random()*u)])})();const t=F({success:0,onceGet:6,path:"../assets/imgs/gallery/",imgs:[]}),n=a(null),i=a("\u4E0A\u6ED1\u52A0\u8F7D\u66F4\u591A"),_=u=>{if(e.count>t.success&&document.documentElement.scrollHeight-20<document.documentElement.scrollTop+document.documentElement.clientHeight)for(let s=0;s<t.onceGet;s++)t.imgs.push(t.path+e.imgs[t.success]),t.success++},r=()=>{n.value&&_(n.value)};return g(()=>{let u=[];for(let s=0;s<e.count;s++)u.push(setTimeout(()=>{document.documentElement.scrollHeight-20>=document.documentElement.scrollTop+document.documentElement.clientHeight&&u.forEach(d=>clearTimeout(d)),n.value&&_(n.value)},0));window.addEventListener("scroll",r),L(()=>t.success,s=>{s>=e.count&&(removeEventListener("scroll",r),i.value="\u5230\u5E95\u5566\uFF01")})}),x(()=>{n.value&&window.removeEventListener("scroll",r)}),(u,s)=>(o(),c("div",M,[S,m("div",$,[(o(!0),c(I,null,k(t.imgs,(d,f)=>(o(),v(G,{url:d,key:f},null,8,["url"]))),128))]),m("div",{class:"bottom-tip",ref_key:"Tip",ref:n},C(i.value),513)]))}});const J=h(R,[["__scopeId","data-v-6a584e57"]]);export{J as default};
