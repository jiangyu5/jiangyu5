System.register(["./332d6a63-legacy.js","./e29c5072-legacy.js","./effdcd65-legacy.js"],(function(e,t){"use strict";var a,l,n,s,o,c,u,r,i,d,m,g,p,h,v,f,y,x,b=document.createElement("style");return b.innerHTML=".loading-after-img[data-v-ca60b4fa]{width:80px;height:100px;border:1px solid;display:flex;justify-content:center;align-items:center;overflow:hidden;border-radius:8px}.loading-after-img img[data-v-ca60b4fa]{display:block;width:auto;height:100%}.gallery[data-v-6a584e57]{padding-left:64px}.gallery .content[data-v-6a584e57]{display:grid;grid-template-columns:auto auto auto;justify-content:center;gap:6px}.gallery .bottom-tip[data-v-6a584e57]{height:80px;width:100%;text-align:center}@media screen and (min-width: 600px){.gallery .content[data-v-6a584e57]{grid-template-columns:auto auto auto auto auto auto}}\n",document.head.appendChild(b),{setters:[e=>{a=e.a},e=>{l=e.L},e=>{n=e.d,s=e.m,o=e.B,c=e.o,u=e.c,r=e.D,i=e._,d=e.l,m=e.C,g=e.I,p=e.a,h=e.F,v=e.b,f=e.t,y=e.x,x=e.y}],execute:function(){const t={class:"loading-after-img"},b=["src"],j={key:2,class:"flase"},w=i(n({__name:"LoadingAfterImg",props:{url:null,width:null,height:null},setup(e){const n=s(null),i=s(!0);return o((()=>{var t;(t=e.url,a({method:"get",url:t,responseType:"arraybuffer"}).then((e=>"data:image/png;base64,"+btoa(new Uint8Array(e.data).reduce(((e,t)=>e+String.fromCharCode(t)),"")))).catch((()=>null))).then((e=>{n.value=e,i.value=!1})).catch((()=>{i.value=!1}))})),(e,a)=>(c(),u("div",t,[i.value?(c(),r(l,{key:0,scale:".8"})):null!=n.value?(c(),u("img",{key:1,src:n.value,alt:""},null,8,b)):(c(),u("div",j,"加载失败"))]))}}),[["__scopeId","data-v-ca60b4fa"]]),E={class:"gallery"},_=(e=>(y("data-v-6a584e57"),e=e(),x(),e))((()=>p("h2",null,"图库",-1))),T={class:"content"};e("default",i(n({__name:"indexGallery",setup(e){const t={count:60,path:"../assets/imgs/gallery/",imgs:["楼角.jpg","山河与你.jpg","钓星星.jpg"],imgsRandom:["楼角.jpg","山河与你.jpg","钓星星.jpg"]};(()=>{let e=t.imgsRandom.length;for(let a=0;a<t.count;a++)t.imgs.push(t.imgsRandom[Math.floor(Math.random()*e)])})();const a=d({success:0,onceGet:6,path:"../assets/imgs/gallery/",imgs:[]}),l=s(null),n=s("上滑加载更多"),i=e=>{if(t.count>a.success&&document.documentElement.scrollHeight-20<document.documentElement.scrollTop+document.documentElement.clientHeight)for(let l=0;l<a.onceGet;l++)a.imgs.push(a.path+t.imgs[a.success]),a.success++},y=()=>{l.value&&i(l.value)};return o((()=>{let e=[];for(let a=0;a<t.count;a++)e.push(setTimeout((()=>{document.documentElement.scrollHeight-20>=document.documentElement.scrollTop+document.documentElement.clientHeight&&e.forEach((e=>clearTimeout(e))),l.value&&i(l.value)}),0));window.addEventListener("scroll",y),m((()=>a.success),(e=>{e>=t.count&&(removeEventListener("scroll",y),n.value="到底啦！")}))})),g((()=>{l.value&&window.removeEventListener("scroll",y)})),(e,t)=>(c(),u("div",E,[_,p("div",T,[(c(!0),u(h,null,v(a.imgs,((e,t)=>(c(),r(w,{url:e,key:t},null,8,["url"])))),128))]),p("div",{class:"bottom-tip",ref_key:"Tip",ref:l},f(n.value),513)]))}}),[["__scopeId","data-v-6a584e57"]]))}}}));
